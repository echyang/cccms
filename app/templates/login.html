{% extends "base.html" %}
{% block content %}

<ul class="breadcrumb">
	<li><a href="/">首页</a></li>
	<li class="active">用户登录</li>
</ul>

{% with msgs= get_flashed_messages() %}
{% if msgs %}
<div class="alert">
	<button type="button" class="close" data-dismiss="alert">&times;</button>
{% for msg in msgs %}
<p>{{ msg }}</p>
{% endfor %}
</div>
{% endif %}
{% endwith %}

<h2>登录</h2>

<form class="form-horizontal" name="login" action="{{ url_for('login') }}" method="post">
	<div class="form-group">
		<label for="username" class="col-sm-2 control-label">用户名:</label>
		<div class="col-sm-10">
			<input class="form-control" name="username" type="text" value="" />
		</div>
	</div>
	<div class="form-group">
		<label for="password" class="col-sm-2 control-label">密码:</label>
		<div class="col-sm-10">
			<input class="form-control" name="password" type="password" value="" />
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-10">
			<input name="submit" type="submit" value="登录" />
		</div>
	</div>
</form>
{% endblock %}

{% block script %}
<script type="text/javascript">
$(function(){
	$('form[name="login"]').submit(function(){
		if ( $('[name="username"]').val()=='' ) {
			alert('用户名不能为空!');
			return false;	
		}			
		if ( $('[name="password"]').val()=='' ) {
			alert('密码不能为空!');
			return false;	
		}			
		return true;
	})		
});
</script>
{% endblock %}
